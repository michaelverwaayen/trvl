{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { createClient } from '@supabase/supabase-js';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\nexport default function HomePage(_ref) {\n  var onStartNewRequest = _ref.onStartNewRequest;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    jobs = _useState2[0],\n    setJobs = _useState2[1];\n  useEffect(function () {\n    var fetchJobs = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var _yield$supabase$from$ = yield supabase.from('chat_logs').select('*').order('created_at', {\n            ascending: false\n          }),\n          data = _yield$supabase$from$.data,\n          error = _yield$supabase$from$.error;\n        if (!error) setJobs(data || []);\n      });\n      return function fetchJobs() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchJobs();\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.header,\n      children: \"\\uD83E\\uDDFE Your Requests\"\n    }), _jsx(Button, {\n      title: \"\\u2795 Start New Request\",\n      onPress: onStartNewRequest\n    }), _jsx(FlatList, {\n      data: jobs,\n      keyExtractor: function keyExtractor(item) {\n        var _item$id;\n        return (_item$id = item.id) == null ? void 0 : _item$id.toString();\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(View, {\n          style: styles.jobCard,\n          children: [_jsxs(Text, {\n            style: styles.summary,\n            children: [\"Summary: \", item.assistant_reply]\n          }), _jsxs(Text, {\n            children: [\"Category: \", item.category || 'N/A']\n          }), _jsxs(Text, {\n            children: [\"Created: \", new Date(item.created_at).toLocaleString()]\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  header: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  jobCard: {\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    marginVertical: 6,\n    borderRadius: 6\n  },\n  summary: {\n    fontWeight: 'bold',\n    marginBottom: 4\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","Button","FlatList","StyleSheet","createClient","jsx","_jsx","jsxs","_jsxs","supabase","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","HomePage","_ref","onStartNewRequest","_useState","_useState2","_slicedToArray","jobs","setJobs","fetchJobs","_ref2","_asyncToGenerator","_yield$supabase$from$","from","select","order","ascending","data","error","apply","arguments","style","styles","container","children","header","title","onPress","keyExtractor","item","_item$id","id","toString","renderItem","_ref3","jobCard","summary","assistant_reply","category","Date","created_at","toLocaleString","create","flex","padding","fontSize","fontWeight","marginBottom","borderWidth","borderColor","marginVertical","borderRadius"],"sources":["/Users/michaelverwaayen/RFQ/mobile/HomePage.js"],"sourcesContent":["// HomePage.js\nimport React, { useEffect, useState } from 'react';\nimport { View, Text, Button, FlatList, StyleSheet } from 'react-native';\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n\nexport default function HomePage({ onStartNewRequest }) {\n  const [jobs, setJobs] = useState([]);\n\n  useEffect(() => {\n    const fetchJobs = async () => {\n      const { data, error } = await supabase\n        .from('chat_logs')\n        .select('*')\n        .order('created_at', { ascending: false });\n      if (!error) setJobs(data || []);\n    };\n\n    fetchJobs();\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.header}>ðŸ§¾ Your Requests</Text>\n      <Button title=\"âž• Start New Request\" onPress={onStartNewRequest} />\n      <FlatList\n        data={jobs}\n        keyExtractor={(item) => item.id?.toString()}\n        renderItem={({ item }) => (\n          <View style={styles.jobCard}>\n            <Text style={styles.summary}>Summary: {item.assistant_reply}</Text>\n            <Text>Category: {item.category || 'N/A'}</Text>\n            <Text>Created: {new Date(item.created_at).toLocaleString()}</Text>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 20 },\n  header: { fontSize: 24, fontWeight: 'bold', marginBottom: 10 },\n  jobCard: {\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    marginVertical: 6,\n    borderRadius: 6\n  },\n  summary: { fontWeight: 'bold', marginBottom: 4 }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}