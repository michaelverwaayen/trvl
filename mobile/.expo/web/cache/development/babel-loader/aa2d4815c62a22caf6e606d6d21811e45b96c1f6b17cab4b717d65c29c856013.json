{"ast":null,"code":"var _jsxFileName = \"/Users/michaelverwaayen/RFQ/mobile/VendorJobsScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useNavigation } from '@react-navigation/native';\nimport { SERVER_URL } from './config';\nimport { useTheme } from './ThemeContext';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VendorJobsScreen() {\n  const {\n    user\n  } = useAuth();\n  const vendorId = user?.id;\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n  const {\n    theme\n  } = useTheme();\n  const styles = getStyles(theme);\n  const fetchJobs = async () => {\n    if (!vendorId) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${SERVER_URL}/jobs-for-vendor/${vendorId}`);\n      const data = await res.json();\n      setJobs(data || []);\n    } catch (err) {\n      console.error('Vendor jobs fetch error', err);\n      setJobs([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchJobs();\n  }, [vendorId]);\n  const renderItem = ({\n    item\n  }) => _jsxDEV(View, {\n    style: styles.card,\n    children: [_jsxDEV(Text, {\n      style: styles.summary,\n      children: item.assistant_reply\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), _jsxDEV(Text, {\n      children: [\"Category: \", item.category]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), _jsxDEV(Text, {\n      children: [\"Created: \", item.created_at ? new Date(item.created_at).toLocaleString() : 'N/A']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), _jsxDEV(Button, {\n      title: \"Submit Quote\",\n      onPress: () => navigation.navigate('SubmitVendorQuote', {\n        jobId: item.id\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), item.id && _jsxDEV(Button, {\n      title: \"Open Chat\",\n      onPress: () => navigation.navigate('VendorChatRoom', {\n        chatRoomId: item.id,\n        vendorId\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.header,\n      children: \"Vendor Jobs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), loading && _jsxDEV(ActivityIndicator, {\n      style: {\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }, this), _jsxDEV(FlatList, {\n      data: jobs,\n      keyExtractor: (item, idx) => item.id?.toString() || idx.toString(),\n      renderItem: renderItem,\n      contentContainerStyle: {\n        paddingBottom: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\nconst getStyles = theme => StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.background\n  },\n  header: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.text\n  },\n  card: {\n    padding: 12,\n    borderWidth: 1,\n    borderColor: theme.border,\n    borderRadius: 6,\n    marginVertical: 6,\n    backgroundColor: theme.card\n  },\n  summary: {\n    fontWeight: 'bold',\n    marginBottom: 4\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","Button","FlatList","ActivityIndicator","StyleSheet","useNavigation","SERVER_URL","useTheme","useAuth","jsxDEV","_jsxDEV","VendorJobsScreen","user","vendorId","id","jobs","setJobs","loading","setLoading","navigation","theme","styles","getStyles","fetchJobs","res","fetch","data","json","err","console","error","renderItem","item","style","card","children","summary","assistant_reply","fileName","_jsxFileName","lineNumber","columnNumber","category","created_at","Date","toLocaleString","title","onPress","navigate","jobId","chatRoomId","container","header","marginTop","keyExtractor","idx","toString","contentContainerStyle","paddingBottom","create","flex","padding","backgroundColor","background","fontSize","fontWeight","marginBottom","color","text","borderWidth","borderColor","border","borderRadius","marginVertical"],"sources":["/Users/michaelverwaayen/RFQ/mobile/VendorJobsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, Button, FlatList, ActivityIndicator, StyleSheet } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { SERVER_URL } from './config';\nimport { useTheme } from './ThemeContext';\nimport { useAuth } from './AuthContext';\n\nexport default function VendorJobsScreen() {\n  const { user } = useAuth();\n  const vendorId = user?.id;\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n  const { theme } = useTheme();\n  const styles = getStyles(theme);\n\n  const fetchJobs = async () => {\n    if (!vendorId) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${SERVER_URL}/jobs-for-vendor/${vendorId}`);\n      const data = await res.json();\n      setJobs(data || []);\n    } catch (err) {\n      console.error('Vendor jobs fetch error', err);\n      setJobs([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { fetchJobs(); }, [vendorId]);\n\n  const renderItem = ({ item }) => (\n    <View style={styles.card}>\n      <Text style={styles.summary}>{item.assistant_reply}</Text>\n      <Text>Category: {item.category}</Text>\n      <Text>\n        Created: {item.created_at ? new Date(item.created_at).toLocaleString() : 'N/A'}\n      </Text>\n      <Button\n        title=\"Submit Quote\"\n        onPress={() =>\n          navigation.navigate('SubmitVendorQuote', {\n            jobId: item.id,\n          })\n        }\n      />\n      {item.id && (\n        <Button\n          title=\"Open Chat\"\n          onPress={() =>\n            navigation.navigate('VendorChatRoom', {\n              chatRoomId: item.id,\n              vendorId,\n            })\n          }\n        />\n      )}\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.header}>Vendor Jobs</Text>\n      {loading && <ActivityIndicator style={{ marginTop: 20 }} />}\n      <FlatList\n        data={jobs}\n        keyExtractor={(item, idx) => item.id?.toString() || idx.toString()}\n        renderItem={renderItem}\n        contentContainerStyle={{ paddingBottom: 20 }}\n      />\n    </View>\n  );\n}\n\nconst getStyles = (theme) =>\n  StyleSheet.create({\n    container: { flex: 1, padding: 20, backgroundColor: theme.background },\n    header: { fontSize: 24, fontWeight: 'bold', marginBottom: 10, color: theme.text },\n    card: { padding: 12, borderWidth: 1, borderColor: theme.border, borderRadius: 6, marginVertical: 6, backgroundColor: theme.card },\n    summary: { fontWeight: 'bold', marginBottom: 4 },\n  });\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,UAAA;AAEnD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,UAAU,QAAQ,UAAU;AACrC,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,OAAO,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EACzC,MAAM;IAAEC;EAAK,CAAC,GAAGJ,OAAO,CAAC,CAAC;EAC1B,MAAMK,QAAQ,GAAGD,IAAI,EAAEE,EAAE;EACzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMqB,UAAU,GAAGd,aAAa,CAAC,CAAC;EAClC,MAAM;IAAEe;EAAM,CAAC,GAAGb,QAAQ,CAAC,CAAC;EAC5B,MAAMc,MAAM,GAAGC,SAAS,CAACF,KAAK,CAAC;EAE/B,MAAMG,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI,CAACV,QAAQ,EAAE;IACfK,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGnB,UAAU,oBAAoBO,QAAQ,EAAE,CAAC;MACpE,MAAMa,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7BX,OAAO,CAACU,IAAI,IAAI,EAAE,CAAC;IACrB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;MAC7CZ,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDrB,SAAS,CAAC,MAAM;IAAE0B,SAAS,CAAC,CAAC;EAAE,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;EAE7C,MAAMkB,UAAU,GAAGA,CAAC;IAAEC;EAAK,CAAC,KAC1BtB,OAAA,CAACX,IAAI;IAACkC,KAAK,EAAEZ,MAAM,CAACa,IAAK;IAAAC,QAAA,GACvBzB,OAAA,CAACV,IAAI;MAACiC,KAAK,EAAEZ,MAAM,CAACe,OAAQ;MAAAD,QAAA,EAAEH,IAAI,CAACK;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,EAC1D/B,OAAA,CAACV,IAAI;MAAAmC,QAAA,GAAC,YAAU,EAACH,IAAI,CAACU,QAAQ;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,EACtC/B,OAAA,CAACV,IAAI;MAAAmC,QAAA,GAAC,WACK,EAACH,IAAI,CAACW,UAAU,GAAG,IAAIC,IAAI,CAACZ,IAAI,CAACW,UAAU,CAAC,CAACE,cAAc,CAAC,CAAC,GAAG,KAAK;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E,CAAC,EACP/B,OAAA,CAACT,MAAM;MACL6C,KAAK,EAAC,cAAc;MACpBC,OAAO,EAAEA,CAAA,KACP5B,UAAU,CAAC6B,QAAQ,CAAC,mBAAmB,EAAE;QACvCC,KAAK,EAAEjB,IAAI,CAAClB;MACd,CAAC;IACF;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EACDT,IAAI,CAAClB,EAAE,IACNJ,OAAA,CAACT,MAAM;MACL6C,KAAK,EAAC,WAAW;MACjBC,OAAO,EAAEA,CAAA,KACP5B,UAAU,CAAC6B,QAAQ,CAAC,gBAAgB,EAAE;QACpCE,UAAU,EAAElB,IAAI,CAAClB,EAAE;QACnBD;MACF,CAAC;IACF;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CACP;EAED,OACE/B,OAAA,CAACX,IAAI;IAACkC,KAAK,EAAEZ,MAAM,CAAC8B,SAAU;IAAAhB,QAAA,GAC5BzB,OAAA,CAACV,IAAI;MAACiC,KAAK,EAAEZ,MAAM,CAAC+B,MAAO;MAAAjB,QAAA,EAAC;IAAW;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAC7CxB,OAAO,IAAIP,OAAA,CAACP,iBAAiB;MAAC8B,KAAK,EAAE;QAAEoB,SAAS,EAAE;MAAG;IAAE;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAC3D/B,OAAA,CAACR,QAAQ;MACPwB,IAAI,EAAEX,IAAK;MACXuC,YAAY,EAAEA,CAACtB,IAAI,EAAEuB,GAAG,KAAKvB,IAAI,CAAClB,EAAE,EAAE0C,QAAQ,CAAC,CAAC,IAAID,GAAG,CAACC,QAAQ,CAAC,CAAE;MACnEzB,UAAU,EAAEA,UAAW;MACvB0B,qBAAqB,EAAE;QAAEC,aAAa,EAAE;MAAG;IAAE;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEX;AAEA,MAAMnB,SAAS,GAAIF,KAAK,IACtBhB,UAAU,CAACuD,MAAM,CAAC;EAChBR,SAAS,EAAE;IAAES,IAAI,EAAE,CAAC;IAAEC,OAAO,EAAE,EAAE;IAAEC,eAAe,EAAE1C,KAAK,CAAC2C;EAAW,CAAC;EACtEX,MAAM,EAAE;IAAEY,QAAQ,EAAE,EAAE;IAAEC,UAAU,EAAE,MAAM;IAAEC,YAAY,EAAE,EAAE;IAAEC,KAAK,EAAE/C,KAAK,CAACgD;EAAK,CAAC;EACjFlC,IAAI,EAAE;IAAE2B,OAAO,EAAE,EAAE;IAAEQ,WAAW,EAAE,CAAC;IAAEC,WAAW,EAAElD,KAAK,CAACmD,MAAM;IAAEC,YAAY,EAAE,CAAC;IAAEC,cAAc,EAAE,CAAC;IAAEX,eAAe,EAAE1C,KAAK,CAACc;EAAK,CAAC;EACjIE,OAAO,EAAE;IAAE6B,UAAU,EAAE,MAAM;IAAEC,YAAY,EAAE;EAAE;AACjD,CAAC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}